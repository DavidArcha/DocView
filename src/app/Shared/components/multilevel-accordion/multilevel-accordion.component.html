<div class="accordion">
    <div *ngFor="let division of data; let i = index" class="accordion-item">
        <div class="accordion-header" (click)="toggleItem(getStateKey('', i))">
            <span>{{ division.title }}</span>
            <span class="icon">{{ expandedState[getStateKey('', i)] ? '-' : '+' }}</span>
        </div>
        <div class="accordion-body" *ngIf="expandedState[getStateKey('', i)]">
            <div *ngFor="let sub of division.children; let j = index" class="sub-item">
                <div class="sub-header" (click)="toggleItem(getStateKey(i.toString(), j))">
                    <span>{{ sub.title }}</span>
                    <span class="icon">{{ expandedState[getStateKey(i.toString(), j)] ? '-' : '+' }}</span>
                </div>
                <ul class="details" *ngIf="expandedState[getStateKey(i.toString(), j)]">
                    <li *ngFor="let detail of sub.details">{{ detail }}</li>
                </ul>
            </div>
        </div>
    </div>
</div>